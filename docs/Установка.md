Контроллер умной квартиры Home Assistant (HASS) устанавливается таким образом, что это не создаст конфликтов с уже установленным ранее ПО. Это очень удобно, поскольку вам не придется разгребать проблемы, связанные с отсутствющими и несовместимыми версиями библиотек и т.п. С такого контейнера легко сделать резервную копию (простым копированием образа), легко удалить. Вы даже можете поставить несколько контроллеров на один медиацентр (микрокомпьютер).

# Raspberry Pi 3

Установка операционной системы на Raspberry Pi выполняется просто и быстро. 
Достаточно записать [образ](https://www.raspberrypi.org/downloads/raspbian/) на microSD-карту и включить устройство.
Установка Raspbian завершится автоматически.

Мы предлагаем выполнить установку с использованием специально подготовленного [Docker-образа](https://hub.docker.com/r/cutecare/rpi-home-assistant/). Образ подготовлен для работы с датчиками и устройствами, взаимодействующими по Bluetooth. Если вы планируете разработку или использование этих датчиков, то этот образ именно то, что вам нужно. 
С другой стороны, вы всегда самостоятельно сможете доустановить нужные компоненты, все описано в [скрипте сборки образа](https://github.com/cutecare/rpi-home-assistant/blob/master/build.sh)

Итак, после установки операционной системы и настройки сетевых параметров, необходимо подключиться к микрокомпьютеру по ssh. 

> Если вы используете Windows, то используйте приложение [Putty](http://www.putty.org/)

> Логин и пароль зависят от установленного образа, по умолчанию для Raspbian: pi/raspberry, для OSMC: osmc/osmc

```
sudo -s
curl -sSL https://get.docker.com | sh
mkdir /home/home-assistant
sudo docker run -d --name hass --restart unless-stopped -p 8123:8123 --cap-add=SYS_ADMIN --cap-add=NET_ADMIN --net=host -v /home/home-assistant:/config -v /etc/localtime:/etc/localtime:ro cutecare/rpi-home-assistant:latest
```

В процессе запуска образа выполняется установка доп. компонентов HASS, так что подождите несколько минут, перед тем как открывать приложение по порту 8123.

После завершения установки приложение Home Assistant будет доступно через браузер по порту 8123, а его конфигурация в каталоге /home/home-assistant

Подробнее об установке и просмотре логов читайте [здесь](https://github.com/cutecare/rpi-home-assistant).

# Orange Pi Zero Plus 2 H5

Установка операционной системы на Orange Pi может вызвать некоторые затруднения, на есть [подробные инструкции](https://theturingsingularity.com/orange-pi-zero-plus-2-h5-resources/), описывающие все по шагам. Вот несколько основных моментов, которые нужно учесть.

[Скачайте](https://www.armbian.com/orange-pi-zero-2-h5/) образ операционной системы, распакуйте архив и запишите его на SD-карту, например, с использованием [этой инструкции](http://orangepi.su/content.php?p=68&c=Ustanovka%20vsekh%20OS%20krome%20Android%20na%20Orange%20Pi).

Конкретно эта плата не имеет USB-разъема для клавиатуры, так что для первичной настройки потребуется:
А. USB-разветвитель (с функцией питания), куда вы подключите клавиатуру, а также монитор, к которому вы подключитесь через HDMI.
Б. Либо используйте любую плату Arduino в качестве USB-UART интефрейса. В этом случае отдельной клавиатуры и монитора вам не потребуется. Взаимодействие будет происходить через Putty (для Windows), подключенного к COM-порту, на котором висит Arduino. Подключить Arduino к Orange Pi можно по следующей схеме:



Достаточно записать [образ](https://www.raspberrypi.org/downloads/raspbian/) на microSD-карту и включить устройство.
Установка Raspbian завершится автоматически.

Мы предлагаем выполнить установку с использованием специально подготовленного [Docker-образа](https://hub.docker.com/r/cutecare/rpi-home-assistant/). Образ подготовлен для работы с датчиками и устройствами, взаимодействующими по Bluetooth. Если вы планируете разработку или использование этих датчиков, то этот образ именно то, что вам нужно. 
С другой стороны, вы всегда самостоятельно сможете доустановить нужные компоненты, все описано в [скрипте сборки образа](https://github.com/cutecare/rpi-home-assistant/blob/master/build.sh)

Итак, после установки операционной системы и настройки сетевых параметров, необходимо подключиться к микрокомпьютеру по ssh. 

> Если вы используете Windows, то используйте приложение [Putty](http://www.putty.org/)

> Логин и пароль зависят от установленного образа, по умолчанию для Raspbian: pi/raspberry, для OSMC: osmc/osmc

```
sudo -s
curl -sSL https://get.docker.com | sh
mkdir /home/home-assistant
sudo docker run -d --name hass --restart unless-stopped -p 8123:8123 --cap-add=SYS_ADMIN --cap-add=NET_ADMIN --net=host -v /home/home-assistant:/config -v /etc/localtime:/etc/localtime:ro cutecare/opi-home-assistant:latest
```

В процессе запуска образа выполняется установка доп. компонентов HASS, так что подождите несколько минут, перед тем как открывать приложение по порту 8123.

После завершения установки приложение Home Assistant будет доступно через браузер по порту 8123, а его конфигурация в каталоге /home/home-assistant

Подробнее об установке и просмотре логов читайте [здесь](https://github.com/cutecare/rpi-home-assistant).

